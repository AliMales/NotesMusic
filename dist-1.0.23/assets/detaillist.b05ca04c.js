import{_ as B,N as V,e as d,W as o,O as j,j as x,Q as D,o as i,c as h,b as n,E as y,t as r,u as e,H as M,F as w,s as U,d as b,J as O,w as z,v as E,a as C,C as F,X as W,x as q,Y as A,z as H,A as J}from"./index.dd783b7f.js";import{S as L}from"./Songs.01b6ff99.js";import{a as P}from"./Albums.669f5fff.js";import{a as Q,_ as T}from"./Playlists.2c9f44d7.js";import{_ as X,d as Y,v as G}from"./Videos.1a020761.js";import{M as K,m as Z}from"./ModalWithVideo.cb56cbff.js";const ss=m=>(H("data-v-0f8034c3"),m=m(),J(),m),es={class:"detaillist"},as=ss(()=>n("br",null,null,-1)),ts={class:"loadmore"},os={__name:"detaillist",setup(m){const a=V(),R=d({songs:o(L),albums:o(P),artists:o(Q),playlists:o(T),userprofiles:o(X),mvs:o(Z),djRadios:o(Y),videos:o(G)}),S={songs:1,albums:10,artists:100,playlists:1e3,userprofiles:1002,mvs:1004,djRadios:1009,videos:1014},u=d({limit:20,offset:0,type:1,keywords:""}),c=d([]),f=d(0),v=d(!0),p=j({open:!1,url:""});x(()=>{const{keywords:t,type:l}=a.params;u.value={...u.value,keywords:t,type:S[l]||1},g()});const $=()=>{p.open=!1},I=t=>{p.open=!0,p.url=t},g=()=>{v.value=!0,D(u.value).then(({result:t})=>{v.value=!1;const l=a.params.type,s=t[l],_=t[`${l.substring(0,l.length-1)}Count`];f.value=_,c.value=[...c.value,...s]}).catch(()=>{v.value=!1})},N=()=>{u.value={...u.value,offset:c.value.length},g()};return(t,l)=>(i(),h(w,null,[n("div",es,[n("h1",null,[y(r(t.$t("searchResult.search"))+" "+r(t.$t(`searchResult.${e(a).params.type}`))+" ",1),n("strong",null,'"'+r(e(a).params.keywords)+'"',1),y("\uFF0C "+r(f.value)+"\xA0 "+r(t.$t("searchResult.count")),1)]),as,n("div",{class:M(["box",[e(a).params.type==="songs"&&"fr-3 gap-sm",(e(a).params.type==="playlists"||e(a).params.type==="mvs"||e(a).params.type==="videos")&&"fr-4",(e(a).params.type==="albums"||e(a).params.type==="artists"||e(a).params.type==="userprofiles")&&"fr-5"]])},[(i(!0),h(w,null,U(c.value,s=>{var _,k;return i(),h("div",{key:s.id},[(i(),b(W(R.value[e(a).params.type]),{image:(s==null?void 0:s.avatarUrl)||s.cover||s.coverImgUrl||s.picUrl||((_=s==null?void 0:s.al)==null?void 0:_.picUrl),name:s.name||s.nickname,id:s.id||s.userId,desc:s.artistName||s.artists||((k=s==null?void 0:s.song)==null?void 0:k.artists),onOnPlay:I},null,40,["image","name","id","desc"]))])}),128))],2),v.value?(i(),b(e(q),{key:0,style:{margin:"3%"},width:"74%",height:"70vh",animated:"",bg:"transparent"})):O("",!0),z(n("div",ts,[C(e(A),{onClick:N},{default:F(()=>[y(r(t.$t("searchResult.loadMore")),1)]),_:1})],512),[[E,c.value.length<f.value]])]),C(e(K),{open:p.open,url:p.url,onOnClose:$},null,8,["open","url"])],64))}};var ds=B(os,[["__scopeId","data-v-0f8034c3"]]);export{ds as default};
