import{_ as $,h as M,N as P,e as i,O as F,P as U,o as t,c,d,u as f,a as I,C as y,b as s,F as b,s as D,T as H,x as J,t as n,E as S,Y as L,J as W,z as Y,A as j}from"./index.dd783b7f.js";import{b as q,c as G,d as K,e as Q}from"./_api.7a0ec99c.js";import{D as X}from"./DescHeader.4adbc56d.js";import{S as Z}from"./Songs.01b6ff99.js";import{a as ee}from"./Albums.669f5fff.js";import{m as ae,M as se}from"./ModalWithVideo.cb56cbff.js";const k=u=>(Y("data-v-65a245bc"),u=u(),j(),u),te={key:1,class:"artistsdetail"},ne={class:"title"},le={class:"con"},oe=k(()=>s("br",null,null,-1)),ie={class:"action"},re=k(()=>s("h1",null,"\u70ED\u95E8",-1)),ce={class:"box fr-3",style:{gap:"2px 0px"}},de=k(()=>s("h1",null,"\u4E13\u8F91",-1)),ue={class:"box fr-5"},me=k(()=>s("h1",null,"mv",-1)),_e={class:"box fr-4"},ve={__name:"artistsdetail",setup(u){const R=M(),N=P(),l=i({}),A=i([]),x=i([]),B=i([]),w=i([]),m=i(!0),r=F({open:!1,url:""}),T=()=>{m.value=!0;const a=N.params.id;Promise.all([q({id:a}),G({id:a}),K({id:a,limit:10}),Q({id:a})]).then(C=>{m.value=!1;const[_,v,p,e]=C,{artist:o,secondaryExpertIdentiy:h}=_.data;l.value=o,A.value=h.map(g=>g.expertIdentiyName),x.value=v.songs,B.value=p.hotAlbums,w.value=e.mvs}).catch(()=>{m.value=!1})},V=a=>{R.dispatch("fetch_song_data",a)};U(()=>N.params.id,()=>{T()},{immediate:!0});const z=()=>{r.open=!1},O=a=>{console.log(a),a&&(r.open=!0,r.url=a)};return(a,C)=>{var _,v,p;return t(),c(b,null,[m.value?(t(),d(f(J),{key:0,style:{margin:"3%"},width:"74%",height:"70vh",animated:"",bg:"transparent"})):(t(),c("div",te,[I(f(X),{image:(_=l.value)==null?void 0:_.cover,name:(v=l.value)==null?void 0:v.name,shape:"round",description:(p=l.value)==null?void 0:p.briefDesc},{tracks:y(()=>{var e,o,h,g,E;return[s("div",null,[s("div",ne,n((o=(e=l.value)==null?void 0:e.identifyTag)==null?void 0:o.toString())+" "+n((h=A.value)==null?void 0:h.toString())+" "+n((E=(g=l.value)==null?void 0:g.transNames)==null?void 0:E.toString()),1),s("div",le,[s("span",null,n(l.value.musicSize)+" "+n(a.$t("searchResult.plays")),1),S(" \xB7 "),s("span",null,n(l.value.albumSize)+" "+n(a.$t("searchResult.albumsDesc")),1),S(" \xB7 "),s("span",null,n(l.value.mvSize)+" "+n(a.$t("searchResult.mvs")),1)])])]}),action:y(()=>{var e;return[oe,s("div",ie,[Boolean((e=x.value[0])==null?void 0:e.id)?(t(),d(f(L),{key:0,onClick:V,"icon-class":"play"},{default:y(()=>[S(n(a.$t("searchResult.play")),1)]),_:1})):W("",!0),S("\xA0 ")])]}),_:1},8,["image","name","description"]),re,s("div",ce,[(t(!0),c(b,null,D(x.value,e=>{var o;return t(),d(Z,{key:e.id,image:(o=e==null?void 0:e.al)==null?void 0:o.picUrl,name:e.name,id:e.id,desc:e==null?void 0:e.ar},null,8,["image","name","id","desc"])}),128))]),de,s("div",ue,[(t(!0),c(b,null,D(B.value,e=>(t(),d(ee,{key:e.id,image:e.picUrl,name:e.name,desc:e.artists,id:e.id},null,8,["image","name","desc","id"]))),128))]),me,s("div",_e,[(t(!0),c(b,null,D(w.value,e=>(t(),d(ae,{key:e.id,image:e.imgurl,name:e.name,desc:e.artistName||e.imgurl16v9,id:e.id,onOnPlay:O},null,8,["image","name","desc","id"]))),128))])])),I(H,{"enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"},{default:y(()=>[I(f(se),{open:r.open,url:r.url,onOnClose:z},null,8,["open","url"])]),_:1})],64)}}};var Se=$(ve,[["__scopeId","data-v-65a245bc"]]);export{Se as default};
